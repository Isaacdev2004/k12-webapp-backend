# Generated by Django 4.2.19 on 2025-08-09 19:38

import datetime
from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
    ]

    operations = [
        migrations.CreateModel(
            name='Chapter',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
            ],
        ),
        migrations.CreateModel(
            name='Course',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('published', models.BooleanField(default=False)),
                ('course_thumbnail', models.ImageField(blank=True, null=True, upload_to='course_thumbnails/')),
            ],
        ),
        migrations.CreateModel(
            name='MCQ',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('is_active', models.BooleanField(default=False)),
                ('is_free', models.BooleanField(default=False)),
                ('status', models.CharField(choices=[('mock', 'mcq Test'), ('practice', 'Practice Test')], default='mock', max_length=20)),
                ('scheduled_start_time', models.DateTimeField(blank=True, null=True)),
                ('duration', models.DurationField(default=datetime.timedelta(seconds=3600))),
                ('negMark', models.IntegerField(default=0)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
            ],
        ),
        migrations.CreateModel(
            name='MockTest',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('is_active', models.BooleanField(default=False)),
                ('is_free', models.BooleanField(default=False)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('status', models.CharField(choices=[('mock', 'Mock Test'), ('practice', 'Practice Test')], default='mock', max_length=20)),
                ('scheduled_start_time', models.DateField(blank=True, null=True)),
                ('duration', models.DurationField(default=datetime.timedelta(seconds=3600))),
                ('negMark', models.IntegerField(default=0)),
                ('start_time', models.TimeField(blank=True, null=True)),
                ('end_time', models.TimeField(blank=True, null=True)),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mock_tests', to='api.course')),
            ],
        ),
        migrations.CreateModel(
            name='PaymentPicture',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('payment_image', models.ImageField(blank=True, null=True, upload_to='payment_pictures/')),
                ('date', models.DateTimeField(auto_now_add=True)),
                ('is_verified', models.BooleanField(default=False)),
                ('total_amount', models.IntegerField(blank=True, null=True)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('approved', 'Approved'), ('rejected', 'Rejected')], default='pending', max_length=10)),
                ('rejected_reason', models.TextField(blank=True, null=True)),
                ('course', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='PaymentPicture', to='api.course')),
            ],
        ),
        migrations.CreateModel(
            name='Program',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='program_thumbnails/')),
                ('description', models.TextField(blank=True, null=True)),
                ('price', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('published', models.BooleanField(default=False)),
                ('has_subjects', models.BooleanField(default=True, verbose_name='Subject(s)')),
                ('has_chapters', models.BooleanField(default=True, verbose_name='Chapter(s)')),
                ('has_topics', models.BooleanField(default=True, verbose_name='Topic(s)')),
                ('has_chapterwise_tests', models.BooleanField(default=True, verbose_name='Chapterwise Test(s)')),
                ('has_chapterwise_notes', models.BooleanField(default=True, verbose_name='Chapterwise Notes(s)')),
                ('has_chapterwise_videos', models.BooleanField(default=True, verbose_name='Chapterwise Video(s)')),
                ('has_mock_tests', models.BooleanField(default=True, verbose_name='Mock tests')),
                ('has_live_classes', models.BooleanField(default=True, verbose_name='Live Classes')),
                ('has_recorded_lectures', models.BooleanField(default=True, verbose_name='Recorded Lectures')),
                ('has_discussions', models.BooleanField(default=True, verbose_name='24/7 Discussions')),
                ('has_lecture_notes', models.BooleanField(default=True, verbose_name='Lecture Notes')),
                ('end_date', models.DateTimeField(blank=True, help_text='Program end date. Students will be automatically removed after this date.', null=True)),
                ('course', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='programs', to='api.course')),
                ('participant_users', models.ManyToManyField(blank=True, related_name='program_participants', to=settings.AUTH_USER_MODEL)),
                ('payment_picture', models.ManyToManyField(blank=True, related_name='api_programs_payment', to='api.paymentpicture')),
            ],
        ),
        migrations.CreateModel(
            name='QrPayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(blank=True, max_length=255, null=True)),
                ('qr_image', models.ImageField(blank=True, max_length=255, null=True, upload_to='QrPayment/')),
                ('accountno', models.CharField(blank=True, max_length=100, null=True)),
                ('is_active', models.BooleanField(default=False)),
                ('payment_method', models.CharField(choices=[('wallet', 'Wallet'), ('account', 'Account')], default='account', max_length=10)),
                ('account_name', models.CharField(blank=True, max_length=255, null=True)),
                ('account_branch', models.CharField(blank=True, max_length=255, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='Subject',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('subject_thumbnail', models.ImageField(blank=True, null=True, upload_to='subject_thumbnails/')),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subjects', to='api.course')),
            ],
        ),
        migrations.CreateModel(
            name='Topic',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('chapter', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='topics', to='api.chapter')),
            ],
        ),
        migrations.CreateModel(
            name='Video',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('video_url', models.URLField(blank=True, max_length=255, null=True)),
                ('is_free', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=False)),
                ('video_file', models.FileField(blank=True, null=True, upload_to='videos/')),
                ('video_description', models.TextField(blank=True, null=True)),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='thumbnails/')),
                ('video_duration', models.FloatField(blank=True, default=0.0, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('topic', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='videos', to='api.topic')),
            ],
        ),
        migrations.CreateModel(
            name='SubjectRecordingVideo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('video_url', models.URLField(blank=True, max_length=255, null=True)),
                ('is_free', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=False)),
                ('video_file', models.FileField(blank=True, null=True, upload_to='videos/')),
                ('video_description', models.TextField(blank=True, null=True)),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='video_thumbnails/')),
                ('video_duration', models.FloatField(blank=True, default=0.0, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subject_recording_videos', to='api.subject')),
            ],
        ),
        migrations.CreateModel(
            name='SubjectNote',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('is_active', models.BooleanField(default=False)),
                ('is_free', models.BooleanField(default=False)),
                ('pdf', models.FileField(blank=True, null=True, upload_to='subject_pdfs/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subject_notes', to='api.subject')),
            ],
        ),
        migrations.CreateModel(
            name='SubjectFee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('number_of_subjects', models.PositiveIntegerField()),
                ('fee', models.DecimalField(decimal_places=2, max_digits=10)),
                ('program', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subject_fees', to='api.program')),
            ],
        ),
        migrations.CreateModel(
            name='QrPaymentTransaction',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('bill_number', models.CharField(max_length=25, unique=True)),
                ('transaction_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('success', 'Success'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('transaction_date', models.DateTimeField(auto_now_add=True)),
                ('last_updated', models.DateTimeField(auto_now=True)),
                ('course', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='qr_payment_transactions', to='api.course')),
                ('program', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='qr_payment_transactions', to='api.program')),
                ('subjects', models.ManyToManyField(blank=True, related_name='qr_payment_transactions', to='api.subject')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='qr_payment_transactions', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.AddField(
            model_name='program',
            name='subjects',
            field=models.ManyToManyField(blank=True, null=True, related_name='programs', to='api.subject'),
        ),
        migrations.AddField(
            model_name='paymentpicture',
            name='program',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='PaymentPicture', to='api.program'),
        ),
        migrations.AddField(
            model_name='paymentpicture',
            name='subject',
            field=models.ManyToManyField(blank=True, related_name='PaymentPicture', to='api.subject'),
        ),
        migrations.AddField(
            model_name='paymentpicture',
            name='user',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='payment_payment_pictures', to=settings.AUTH_USER_MODEL),
        ),
        migrations.CreateModel(
            name='OnePGPayment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('merchant_txn_id', models.CharField(max_length=100, unique=True)),
                ('gateway_txn_id', models.CharField(blank=True, max_length=100, null=True)),
                ('process_id', models.CharField(blank=True, max_length=100, null=True)),
                ('amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('service_charge', models.DecimalField(decimal_places=2, default=0, max_digits=10)),
                ('total_amount', models.DecimalField(decimal_places=2, max_digits=10)),
                ('status', models.CharField(choices=[('pending', 'Pending'), ('success', 'Success'), ('failed', 'Failed')], default='pending', max_length=20)),
                ('instrument_code', models.CharField(blank=True, max_length=50, null=True)),
                ('transaction_date', models.DateTimeField(auto_now_add=True)),
                ('last_updated', models.DateTimeField(auto_now=True)),
                ('remarks', models.TextField(blank=True, null=True)),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='onepg_payments', to='api.course')),
                ('program', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='onepg_payments', to='api.program')),
                ('subjects', models.ManyToManyField(blank=True, related_name='onepg_payments', to='api.subject')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='onepg_payments', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'OnePG Payment',
                'verbose_name_plural': 'OnePG Payments',
                'ordering': ['-transaction_date'],
            },
        ),
        migrations.CreateModel(
            name='Note',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('is_active', models.BooleanField(default=False)),
                ('is_free', models.BooleanField(default=False)),
                ('pdf', models.FileField(blank=True, null=True, upload_to='notes/pdfs/')),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('course', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='notes', to='api.course')),
            ],
        ),
        migrations.CreateModel(
            name='MockTestResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('status', models.CharField(choices=[('mock', 'Mock Test'), ('practice', 'Practice Test')], default='mock', max_length=20)),
                ('score', models.FloatField()),
                ('total_score', models.FloatField()),
                ('correct_answers', models.IntegerField(default=0)),
                ('wrong_answers', models.IntegerField(default=0)),
                ('unattempted', models.IntegerField(default=0)),
                ('time_taken', models.DurationField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(auto_now_add=True)),
                ('submissions_data', models.JSONField(default=dict)),
                ('mock_test', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='results', to='api.mocktest')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mocktest_results_api', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'Mock Test Result',
                'verbose_name_plural': 'Mock Test Results',
                'ordering': ['-completed_at'],
            },
        ),
        migrations.CreateModel(
            name='MockTestQuestion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question_text', models.TextField()),
                ('question_image_url', models.URLField(blank=True, null=True)),
                ('option_0_text', models.TextField(blank=True, null=True)),
                ('option_1_text', models.TextField(blank=True, null=True)),
                ('option_2_text', models.TextField(blank=True, null=True)),
                ('option_3_text', models.TextField(blank=True, null=True)),
                ('option_0_image_url', models.URLField(blank=True, null=True)),
                ('option_1_image_url', models.URLField(blank=True, null=True)),
                ('option_2_image_url', models.URLField(blank=True, null=True)),
                ('option_3_image_url', models.URLField(blank=True, null=True)),
                ('answer', models.IntegerField()),
                ('weight', models.FloatField()),
                ('explanation', models.TextField(blank=True, null=True)),
                ('explanation_image_url', models.URLField(blank=True, null=True)),
                ('mock_test', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='questions', to='api.mocktest')),
            ],
        ),
        migrations.CreateModel(
            name='McqResult',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('score', models.FloatField()),
                ('total_score', models.FloatField()),
                ('correct_answers', models.IntegerField(default=0)),
                ('wrong_answers', models.IntegerField(default=0)),
                ('unattempted', models.IntegerField(default=0)),
                ('time_taken', models.DurationField(blank=True, null=True)),
                ('completed_at', models.DateTimeField(auto_now_add=True)),
                ('submissions_data', models.JSONField(default=dict)),
                ('mcq', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='results', to='api.mcq')),
                ('user', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mcq_results_api', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='MCQQuestion',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('question_text', models.TextField()),
                ('question_image_url', models.URLField(blank=True, null=True)),
                ('option_0_text', models.TextField(blank=True, null=True)),
                ('option_1_text', models.TextField(blank=True, null=True)),
                ('option_2_text', models.TextField(blank=True, null=True)),
                ('option_3_text', models.TextField(blank=True, null=True)),
                ('option_0_image_url', models.URLField(blank=True, null=True)),
                ('option_1_image_url', models.URLField(blank=True, null=True)),
                ('option_2_image_url', models.URLField(blank=True, null=True)),
                ('option_3_image_url', models.URLField(blank=True, null=True)),
                ('answer', models.IntegerField()),
                ('weight', models.FloatField()),
                ('explanation', models.TextField(blank=True, null=True)),
                ('explanation_image_url', models.URLField(blank=True, null=True)),
                ('mcq', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='questions', to='api.mcq')),
            ],
        ),
        migrations.AddField(
            model_name='mcq',
            name='topic',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='mcqs', to='api.topic'),
        ),
        migrations.CreateModel(
            name='LiveClass',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True, null=True)),
                ('live_url', models.URLField(blank=True, null=True)),
                ('start_time', models.TimeField(blank=True, null=True)),
                ('end_time', models.TimeField(blank=True, null=True)),
                ('zoom_meeting_id', models.CharField(blank=True, max_length=255, null=True)),
                ('zoom_password', models.CharField(blank=True, max_length=50, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('is_free', models.BooleanField(default=False)),
                ('is_active', models.BooleanField(default=False)),
                ('recurrence_type', models.CharField(choices=[('none', 'No Recurrence'), ('weekly', 'Weekly')], default='none', max_length=10)),
                ('recurrence_start_date', models.DateField(blank=True, null=True)),
                ('recurrence_end_date', models.DateField(blank=True, null=True)),
                ('day_of_week', models.IntegerField(blank=True, help_text='0=Monday, 6=Sunday', null=True)),
                ('host', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='live_classes', to=settings.AUTH_USER_MODEL)),
                ('subject', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='live_classes', to='api.subject')),
            ],
            options={
                'managed': True,
            },
        ),
        migrations.CreateModel(
            name='Content',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(max_length=255)),
                ('thumbnail', models.ImageField(blank=True, null=True, upload_to='content_thumbnails/')),
                ('pdf', models.FileField(blank=True, null=True, upload_to='content_pdfs/')),
                ('is_active', models.BooleanField(default=False)),
                ('is_free', models.BooleanField(default=False)),
                ('topic', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='contents', to='api.topic')),
            ],
        ),
        migrations.AddField(
            model_name='chapter',
            name='subject',
            field=models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='subject_chapters', to='api.subject'),
        ),
    ]
